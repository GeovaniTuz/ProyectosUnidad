<!DOCTYPE html >

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
   
    <title>Busqueda y Reemplazo</title>

</head>
<body   >
    <!-- ENTRADA DE TEXTO -->
    <div>
      <h4>REEMPLAZAR TEXTO</h4>
        <h4>Entrada de texto:</h4>
            <textarea id='caja' style="height: 10em; width: 40em">
                Ejemplo del uso de busqueda y reemplazo
            </textarea>

            <form >
                Buscar:
                <input type="text" id="Busqueda">
                <br>
                <br>
                Reemplazar:
                <input type="text" id="Reemplazar">
                <input type="button" value="Ejecutar" onclick="metodos()">
            </form>
    <br>
    <p id="mostrarresult2">
        Mostrar Reemplazo
    </p>
    </div>




    <hr>

    <div>

      <h4>CONTADOR DE PALABRAS Y DIRECCIONAMIENTO</h4>
      <textarea id='caja2' style="height: 10em; width: 40em">
                Una característica que debe incluiste en un sistema (forma de procesar datos, producir información controlar una actividad, o dar soporte a la gerencia) Determinación de requisitos: (DR) Es el estudio de un sistema para conocer cómo trabaja y dónde es necesario efectuar mejoras. Luego de esto se sabrá si es posible realizar ajustes Analista de requerimientos
            </textarea  >

            <form >
                Generar numero:
                <input type="button" value="Ejecutar" onclick="numerorandom()">
            </form>
    <br>
    <p>
        Numero de palabras: <strong id="resultadorandom"> --- </strong>
        Numero random generado: <strong id="resultadorandom3"> --- </strong>
        
    </p>

    </div>




<hr>

<script type="text/javascript">
  //METODO PARA REEMPLAZAR
      //************************************************************************************************************************
        function metodos(){
            //BUSQUEDA
var MBBB = document.getElementById('caja').value;
var letra = document.getElementById('Busqueda').value;
var ejemplo = document.getElementById('Reemplazar').value;

//var MB2 = MBBB.match(letra);
//var myArray = /d(b+)d/g.exec('cdbbdbsbz');

    var MB2 = MBBB.match(letra);
    //var dato = new RegExp(`\\b${MB2}\\b`,"gi");
    MB = MBBB.replace(new RegExp(`\\b${MB2}\\b`,"gi"),ejemplo);

/*
var myRe = new RegExp(letra,'g');
var myArray = myRe.exec(MBBB);
OTRO METODO PARA REEMPLAZAR
*/
    


            //REEMPLAZO

//var MR2 = MBBB.replace(MB2,ejemplo);
//var MR2 = MBBB.replace(MBBB,ejemplo);

document.getElementById('mostrarresult2').innerHTML = MB;

}
</script>

<hr>

<script type="text/javascript">
  //METODO PARA MULTIPLOS DE CINCO Y COLOREAR
//***********************************************************************************************************

        /**
        * Funcion para calcular si el numero es multiplo
        * utilizando el modulo de la division
        */
        function multiple(valor, multiple)
        {
            resto = valor % multiple;
            if(resto==0)
                return true;
            else
                return false;
        }


       var matriz = new Array(20);
       var aumento = 1;
 
         //creamos arrary de una dimensión del tamaño tabla anterior
          for (var i = 0; i < matriz.length; i++) { 
          matriz[i] = []; 
          } 
         //creamos bidimensional con el array anterior, duplicando en columnas y lo llenamos
           
          for (var i = 0; i < matriz.length; i++) { 
              for (var j = 0; j < matriz.length; j++) { 
                  
                  matriz[i][j] = [aumento++]; 
              }
          }
          
          var abretabla= "<table style'width:100%' >";
          var cierratabla = "</table>";
          var abretr = "<tr>", abretd ="<td>";
          var cierratr = "</tr>", cierratd ="</td>";
          var color = "<td style='background: red'>";
          document.write(abretabla);
          for (var i = 0; i < matriz.length; i++) {
              document.write(abretr); 
              for (var j = 0; j < matriz.length; j++)             
              {
                var dato = matriz[i][j];
                if (multiple(dato,5)) {
                  document.write(color + matriz[i][j] + cierratd); 
              }else{
                document.write(abretd + matriz[i][j] + cierratd);
              }
              } 
              document.write(cierratr); 
          } 
          document.write(cierratabla);
</script>

<hr>


<script>
      

          //**************************************************************************************************************
          //METODO PARA CONTAR PALABRAS Y DIRECCIONAR PAGINA

          function numerorandom() {

    //mandar msg
    //alert("Genrando Rando");

    // perdir datos para rando
    var text = document.getElementById("caja2").value;

    //contar palabras del mesage

    var texto = text;
    if (texto != "") {

        //Reemplazamos los saltos de linea por espacios
        texto = texto.replace(/\r?\n/g, " ");
        //Reemplazamos los espacios seguidos por uno solo
        texto = texto.replace(/[ ]+/g, " ");
        //Quitamos los espacios del principio y del final
        texto = texto.replace(/^ /, "");
        texto = texto.replace(/ $/, "");
        //Troceamos el texto por los espacios
        var textoTroceado = texto.split(" ");
        //Contamos todos los trozos de cadenas que existen

    }
    var pruebapalabra;
    pruebapalabra = textoTroceado.length;
    
    // total de palabras que existen. 
    console.log(pruebapalabra)
    //-------------------------------------
    var contador = [];
    
    //console.log(contador);
    document.getElementById('resultadorandom').innerHTML = pruebapalabra;
    //FIN DEL CONTADOR DE PALABRAS


    var randonum = Math.floor(Math.random() * pruebapalabra);
    console.log(randonum);
    
    document.getElementById('resultadorandom3').innerHTML = randonum;

    var iniciolink = "<a href='https://www.w3schools.com/colors/colors_picker.asp'>", finlink = "</a>";
    var iniciop = "<p>", finp = "</p>", punto = ". ", saltar = "<br>";
    var elemento = " TEXTO TOMADO DE LA CAJA Y TROCEADO --> ", elemento2 = "Numero random generado: ";
    //var n = a + "<br>" + b + "<br>" + c + "<br>" + d;

    //document.write(espa);
    document.write(iniciop); // INICIO DE LA ETIQUETA P
    for (var i = 0; i < randonum; i++) {
      contador = textoTroceado;
        var les = iniciolink + contador[i] + finlink;
       // document.write(iniciolink + contador[i] + finlink);
       // les.toString();
       //var cade = les.toString();
         document.write("La palabra es: ", les);
         document.write(punto);    
       
        
    }
    
    // total de palabras que se deben de hacer viculo
    //console.log(i);
    
    document.write(saltar + saltar + elemento + contador, saltar + saltar + elemento2 + randonum);
    //var cade = les.toString();


    document.write(finp); //FIN DE LA ETIQUETA P
//FIN DE GENERACION DE NUMERO RANDOM

}

    </script>

</body>

</html>